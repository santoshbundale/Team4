function isDateChanged(a,b){var c=!1;return newDateFieldText=jQuery(a).val(),newDateFieldText=jQuery.trim(newDateFieldText),b!=newDateFieldText&&(c=!0),c}function hideBubble(){for(var a=jQuery('div[id*="bubbleID_"]'),d=(new Array,0);d<a.length;d++)jQuery(a[d]).next().hasClass("ERROR_FIELD_BORDER_TYPESYS")||jQuery(a[d]).remove()}function showBubble(a,b){var c=jQuery("."+a),d=c.offset();if(null!=d){var e=d.left-100+"px",f=d.top-80+"px",g=1+Math.floor(600*Math.random());jQuery(c).before('<div id="bubbleID_'+g+'" style="top:'+f+"; left:"+e+'; position: absolute; display: inline; border: 2px; width: 300px; height: auto; background-color: pink;padding-top:10px;padding-bottom:10px; padding-right:10px;padding-left:10px;">'+b+'<input type=hidden id="ERROR_HIDDEN_FIELD_'+g+'" value="ROW"></div>')}}function sendAlert(){var a=document.getElementsByName("FORMSGROUP_ID__")[0].value;sendAlert(a)}function sendAlert(a){a||(a=document.getElementsByName("FORMSGROUP_ID__")[0].value);var b=document.getElementById(a+".OUTFORMAT").value;if(1==b||2==b||8==b){var c=getMessage("SaveAndOpen");c+=" \n",c+=getMessage("LogOutIfOpened"),alert(c)}}function enableCntrlDetails(){var a=document.getElementById("FORMSGROUP_ID__").value,b=document.getElementById(a+".CONTROL").value;"CBO"!=b&&"LKP"!=b?(document.getElementById(a+".CONTROL_DETAILS").value="",document.getElementById(a+".CONTROL_DETAILS").disabled=!0,document.getElementById(a+".ADDITIONAL_CONTROL_DETAILS").value=""):(document.getElementById(a+".CONTROL_DETAILS").disabled=!1,document.getElementById(a+".ADDITIONAL_CONTROL_DETAILS").value="",document.ReportsDesignFG.__EVENT_ID__.disabled=!1,document.ReportsDesignFG.__EVENT_ID__.value="LOAD_CONTROL_DETAILS",document.ReportsDesignFG.submit())}function getAdditionalControlDetails(){document.ReportsDesignFG.__EVENT_ID__.disabled=!1,document.ReportsDesignFG.__EVENT_ID__.value="LOAD_ADDITIONAL_CONTROL_DETAILS",document.ReportsDesignFG.submit()}function enableReportName(){var a=document.getElementById("FORMSGROUP_ID__").value,b=document.getElementById(a+".MANUAL_JRXML"),c=document.getElementById(a+".MANUAL_JSP");b.checked||c.checked?document.getElementById(a+".REPORT_NAME").disabled=!1:(document.getElementById(a+".REPORT_NAME").value="",document.getElementById(a+".REPORT_NAME").disabled=!0)}function getControlDetails(){var a=new Array,b=new Array,c=document.getElementById("FORMSGROUP_ID__").value,d=document.getElementById(c+".DISPLAY_SECTION").value,e=document.getElementById(c+".CONTROL");if(e.options.length>1)for(var f=0;f<e.options.length;f++)a[f]=e.options[f].text,b[f]=e.options[f].value;if("O"==d||"B"==d)e.options.length=1,e.options[0]=new Option("CheckBox","CHK"),document.getElementById(c+".CONTROL_DETAILS").value="",document.getElementById(c+".CONTROL_DETAILS").disabled=!0,document.getElementById(c+".ADDITIONAL_CONTROL_DETAILS").value="";else{e.options.length=a.length,document.getElementById(c+".CONTROL_DETAILS").disabled=!1,document.getElementById(c+".ADDITIONAL_CONTROL_DETAILS").value="";for(var f=0;f<a.length;f++)e.options[f]=new Option(a[f],b[f])}}function getPaymentDetails(a){var b=document.getElementsByName("FORMSGROUP_ID__")[0].value,c=document.getElementById(b+".DESTINATION_DETAILS_STRING_"+a).value,d=c.split("/"),e=d[5];if(void 0==e)document.getElementById(b+".BENEFICIARY_REFERENCE").value="";else{var f=e.split(":"),g=f[1];document.getElementById(b+".BENEFICIARY_REFERENCE").value=g}}function enableCntrlDetails(){var a=document.getElementById("FORMSGROUP_ID__").value,b=document.getElementById(a+".CONTROL").value;"CBO"!=b&&"LKP"!=b?(document.getElementById(a+".CONTROL_DETAILS").value="",document.getElementById(a+".CONTROL_DETAILS").disabled=!0,document.getElementById(a+".ADDITIONAL_CONTROL_DETAILS").value=""):(document.getElementById(a+".CONTROL_DETAILS").disabled=!1,document.getElementById(a+".ADDITIONAL_CONTROL_DETAILS").value="",document.ReportsDesignFG.__EVENT_ID__.disabled=!1,document.ReportsDesignFG.__EVENT_ID__.value="LOAD_CONTROL_DETAILS",document.ReportsDesignFG.submit())}function getAdditionalControlDetails(){document.ReportsDesignFG.__EVENT_ID__.disabled=!1,document.ReportsDesignFG.__EVENT_ID__.value="LOAD_ADDITIONAL_CONTROL_DETAILS",document.ReportsDesignFG.submit()}function isGrouplet(a){return a.indexOf(":")!=-1}function loadRichTextEditor(a,b){var c=feba.domManipulator.getElementById(a).css("height"),d=feba.domManipulator.getElementById(a).css("width"),e=feba.domManipulator.getElementById(a),f=e.cleditor({height:c,width:d,imagePath:b,controls:"bold italic underline | font size style | color highlight | bullets numbering | undo redo | rule link unlink |"});feba.domManipulator.addData(e,"editor",f[0])}function resetRichTextEditor(a,b){feba.domManipulator.documentReady(function(){var c=getResetButtons(b),d=feba.domManipulator.getElementById(a);feba.domManipulator.click(c,function(){feba.domManipulator.val(d,"");var a=feba.domManipulator.getData(d,"editor");a.updateFrame()})})}function sessionTimer(a,b,c){var d=0,e=null,f=null,g=null,h=getMessage("SessionExpiredMsg"),i=getMessage("ReloginMsg"),j=getMessage("SessionExpiringMsg"),k=getMessage("Seconds"),l=getMessage("ContinueSessionMsg"),m=getMessage("SessionTimeoutMsg"),n=getMessage("SessionAlert"),o=getMessage("GoToLoginPage");this.getSecondsLeft=function(a){var b=0,c=0;return a>3600&&(b=parseInt(a/3600)),a>60&&(c=parseInt((a-3600*b)/60)),a=a-3600*b-60*c,b+" hrs: "+c+" mins"},this.start=function(){var a=Number(document.getElementById("sessionAlertTime").value),b=Number(document.getElementById("sessionTimeout").value);if(!(a<=0||a>=b)){d=b-a;var e,h=document.createElement("SPAN");if(h.innerHTML="<span class='simpletext' style='color:red;' id='expiryMsg'>"+m+"<label id='sessionExpiryTime'>"+this.getSecondsLeft(b)+"</label></span><br />",e=4==c?document.getElementById("PREVENT_SESSION_TIMEOUT__"):document.getElementById("lastLoginMessage_1"),null!=e){var i=e.parentNode;i.insertBefore(h,e)}f=setInterval("this.updateHeaderTime()",6e4),g=setInterval("this.showSessionExpiredPopup()",1e3)}},this.updateHeaderTime=function(){var a=Number(document.getElementById("sessionTimeout").value);a-=60;var b=document.getElementById("sessionExpiryTime");null!=b&&(b.childNodes[0].nodeValue=this.getSecondsLeft(a)),document.getElementById("sessionTimeout").value=a,0!=a&&a<60&&(clearInterval(f),mSec=1e3*a,f=setInterval("this.showExpiredPopup()",mSec)),0==a&&this.showExpiredPopup()},this.showExpiredPopup=function(){if(clearInterval(f),null!=e&&e.closed){var a=this.createSessionPopupDoc(),b="<script>";b+="document.getElementById('rowID1').style.display='';",b+="document.getElementById('rowID2').style.display='none';",b+="document.getElementById('rowID3').style.display='none';",b+="window.onunload = function () { document.getElementById('gotoLoginImg').click(); } ",b+="</script>",a.write(b),a.close()}},this.showSessionExpiredPopup=function(){if(d--,0==d){clearInterval(g);var a=this.createSessionPopupDoc(),b="<script>";b+="function updateTime() {",b+="\tif (timerVal == 0) {",b+="\t\tclearInterval(timerID); ",b+="\t\tdocument.getElementById('rowID1').style.display='';",b+="\t\tdocument.getElementById('rowID2').style.display='none';",b+="\t\tdocument.getElementById('rowID3').style.display='none';",b+="\t\twindow.onunload = function () { document.getElementById('gotoLoginImg').click(); }; ",b+="\t\twindow.focus();",b+="\t} else {",b+="\t\ttimerVal--;",b+="\t\tdocument.getElementById('secLabel').childNodes[0].nodeValue=timerVal;",b+="\t}",b+="}",b+="var timerVal=window.opener.document.getElementById('sessionAlertTime').value;",b+="document.getElementById('secLabel').childNodes[0].nodeValue=timerVal;",b+="var timerID=setInterval('updateTime()',1000);",b+="</script>",a.write(b),a.close()}},this.createSessionPopupDoc=function(){e=window.open("","_blank","width=420,cellpadding=0,cellspacing=0,height=220,status=no,location=0,resizable=no,left=500,top=265,dependent=1,alwaysRaised=1,title=0");var c=e.document,d=document.getElementById("sessionImgPath").value,f=document.getElementById("sessionLoginURL").value,g="<html>";return g+="<head>",g+="<title>Session Alert</title>",g+="<link href='"+a+"' rel='stylesheet' type='text/css'>",g+="<link href='"+b+"' rel='stylesheet' type='text/css'>",g+="</head>",g+="<body>",g+="<div id='sessionPopup'>\t",g+="<div id='sessionPopupTitle'>",g+="\t<B>"+n+"</B>",g+="</div>",g+="<div id='sessAlertTable'>",g+="<table id='sessionTable' width='100%'>",g+="<tr id='rowID1' style='display:none' align='center'>",g+="<td colspan='2' align='center'>",g+="<table width='100%'>",g+="<tr align='left'>",g+="<td align='left' colspan='2' class='sessionExpiredRow'>"+h+"</td>",g+="</tr>",g+="<tr align='left'>",g+="<td align='left' colspan='2' class='reloginMsgRow'>"+i+"<br /><br/></td>",g+="</tr>",g+="<tr align='center'>",g+="<td colspan='2'>",g+="<br/><br/><img src='"+d+"' alt='"+o+"' title='"+o+"' id='gotoLoginImg' border='0' onclick='window.close();window.opener.goToLoginPage(\""+f+"\");' />",g+="</td>",g+="</tr>",g+="</table>",g+="</td>",g+="</tr>",g+="<tr id='rowID2' align='center'>",g+="<td colspan='2'>",g+="<table width='100%'>",g+="<tr align='left'><td align='left' class='sessionExpiredRow'>"+j+"<label id='secLabel'>0</label>"+k+"</td></tr>",g+="<tr align='left'><td align='left' class='reloginMsgRow'>"+l+"</td></tr>",g+="</table>",g+="</td>",g+="</tr>",g+="<tr id='rowID3' align='right'>",g+="<td><br /><br /><input type='button' id='continue_session_btn' value='Continue Session' onclick='window.close();window.opener.resetSession();' class='btn'></td>",g+="<td align='center'><br /><br /><input id='close_btn' class='close_btn' type='button' value='Close' onclick='window.close();'></td>",g+="</tr>",g+="</table>",g+="</div>",g+="</div>",g+="</body>",g+="</html>",c.write(g),c},start()}function goToLoginPage(a){window.open(a,"_self")}function resetSession(){document.getElementById("PREVENT_SESSION_TIMEOUT__").click()}function getResetButtons(a){"null"==a&&(a="");var b=feba.domManipulator.find(feba.domManipulator.getElement(document),':input[type*="Reset"][id*="'+a+'"]');return 0==b.length&&(b=feba.domManipulator.find(feba.domManipulator.getElement(document),':input[type*="reset"][id*="'+a+'"]')),b}function getFunctionCodeDetails(){document.AuthSchemeMaintenanceFG.__EVENT_ID__.disabled=!1,document.AuthSchemeMaintenanceFG.__EVENT_ID__.value="PREVENT_SESSION_TIMEOUT__",document.AuthSchemeMaintenanceFG.submit()}function getFunctCodeDetailsInqFG(){document.InquiryFWFG.__EVENT_ID__.disabled=!1,document.InquiryFWFG.__EVENT_ID__.value="PREVENT_SESSION_TIMEOUT__",document.InquiryFWFG.submit()}function getSpecifiedElements(a,b){var c=new Array;if(a)c=feba.domManipulator.find(feba.domManipulator.getElementById(a),b);else for(var d=feba.domManipulator.getElement(b),e=0;e<d.length;e++)d[e].id.indexOf(Constants.GROUPLET_ELEMENT_SEPERATOR)==-1&&c.push(d[e]);return c}function isGroupletId(a,b){return!("null"==b||!b||a.indexOf(b+Constants.GROUPLET_ELEMENT_SEPERATOR)!=-1)}function getLabelIDByFieldId(a){var b="",c="";b=document.getElementsByTagName("label");var d=b.length;for(i=0;i<d;i++){var e=b[i].htmlFor;if(null!=e&&e==a){c=b[i].id;break}}return c}function getParentByTagName(a,b){try{for(var c=a.parentNode;c.tagName!=b;)c=c.parentNode;return c}catch(a){return null}}function isAnyChildInError(a,b,c){for(var d=!1,e=0;e<a.length;e++)a[e].id.match(c)&&"ROW"==a[e].value&&(d=!0);return d}function restoreStyle(a){if("ROW"===FEBAJSConfig.TYPESYSTEM_ERR_HIGHLIGHT){var b=getParentByTagName(document.getElementById(a),"P"),c=jQuery(b).find("input"),d=!1,e=/^ERROR_ROW_/;d=isAnyChildInError(c,a,e);var f=!1;if(e=/^ERROR_HIDDEN_ROW_/,f=isAnyChildInError(c,a,e),0==d&&0==f&&hasClass(b,"ERROR_ROW_BG")){var g=new RegExp("(\\s|^)ERROR_ROW_BG(\\s|$)");b.className=b.className.replace(g," ")}}else if("LABEL"===FEBAJSConfig.TYPESYSTEM_ERR_HIGHLIGHT){var h=document.getElementById(getLabelIDByFieldId(a));if(hasClass(h,"error_highlight")){var g=new RegExp("(\\s|^)error_highlight(\\s|$)");h.className=h.className.replace(g," ")}}}function hasClass(a,b){if(null!=a)return a.className.match(new RegExp("(\\s|^)"+b+"(\\s|$)"))}function clearError(a){var b=document.getElementById("ERROR_ROW_"+a);null!=b&&jQuery(b).remove();var c=document.getElementById(a),d=jQuery(c).closest("table");if(null!=d.html()){var e=jQuery(c).parentsUntil("td"),f=e[e.length-1];jQuery(f).hasClass("ERROR_FIELD_BORDER_TYPESYS")&&(jQuery(f).removeClass("ERROR_FIELD_BORDER_TYPESYS"),hideBubble())}restoreStyle(a)}function changeFieldBorderColor(a){var b=jQuery(a).closest("table");if(null!=b.html()){var c=jQuery(a).parentsUntil("td"),d=c[c.length-1];jQuery(d).hasClass("ERROR_FIELD_BORDER")&&(jQuery(d).removeClass("ERROR_FIELD_BORDER"),jQuery(d).addClass("CORRECTED_ERROR_FIELD_BORDER"))}}function displayError(a,b){if("POPUP"===FEBAJSConfig.TYPESYSTEM_ERR_DISPLAY)alert(a);else if("FIELD"===FEBAJSConfig.TYPESYSTEM_ERR_DISPLAY){var c=document.getElementById("ERROR_ROW_"+b);null==c?c=document.createElement("span"):c.innerHTML="";var d=document.getElementById(b),e=jQuery(d).closest("table");if(null!=e.html()){var f=jQuery(d).parentsUntil("td"),g=f[f.length-1];jQuery(g).hasClass("ERROR_FIELD_BORDER_TYPESYS")||(jQuery(g).hasClass("CORRECTED_ERROR_FIELD_BORDER")&&jQuery(g).removeClass("CORRECTED_ERROR_FIELD_BORDER"),jQuery(g).addClass("ERROR_FIELD_BORDER_TYPESYS"),showBubble("ERROR_FIELD_BORDER_TYPESYS",a))}else{var f=jQuery(d).parentsUntil("p"),g=f[f.length-1];if(null==g.id||""==g.id)var f=jQuery(d).parentsUntil("div"),g=f[f.length-1];c.id="ERR_MSG_SPAN_"+b,c.className="simpletext",jQuery(c).html(a);var h=document.createElement("span");h.id="ERROR_ROW_"+b,h.className="ERROR_ROW_SPAN",jQuery(h).html(c);var i=1+Math.floor(600*Math.random()),j='<input type=hidden id="ERROR_HIDDEN_ROW_'+i+'" value="ROW">';jQuery(h).append(j),jQuery(g).append(h)}}highlightErrorField(b)}function highlightErrorField(a){if("LABEL"===FEBAJSConfig.TYPESYSTEM_ERR_HIGHLIGHT){var b=document.getElementById(getLabelIDByFieldId(a));b.className+=" error_highlight"}else if("ROW"===FEBAJSConfig.TYPESYSTEM_ERR_HIGHLIGHT){var c=getParentByTagName(document.getElementById(a),"P");null==c||hasClass(c,"ERROR_ROW_BG")||(c.className+=" ERROR_ROW_BG")}}function highLightErrorRow(){for(var a=document.getElementsByTagName("input"),b=jQuery(".ERROR_ROW_HIGHLIGHT"),c=b.length,d=0;d<c;d++){var e=jQuery(b[d]).parentsUntil("p"),f=e[e.length-1];if(jQuery(f).is("span")){var g=b[d],h='<span id="'+g.id+'" class="ERROR_ROW_HIGHLIGHT" >'+jQuery(g).html()+"</span>";jQuery(g).remove(),jQuery(f).append(h)}}for(var i=0;i<a.length;i++)if(a[i].id.match(/^ERROR_ROW_/)&&"ROW"==a[i].value){var j=getParentByTagName(a[i],"P");null==j||hasClass(j,"ERROR_ROW_BG")||(j.className+=" ERROR_ROW_BG")}}function highLightErrorField(){for(var a=document.getElementsByTagName("input"),b=0;b<a.length;b++)if(a[b].id.match(/^ERROR_FIELD_/)){var c=jQuery(a[b]).prev(),d=c[c.length-1];d.className+=" ERROR_FIELD_BORDER"}}function visibleAllElements(a){"YES"==a.value?(document.getElementById("InputFormWithTab").style.display="block",null!=document.getElementById("InfoPanel2")&&(document.getElementById("InfoPanel2").style.display="block"),jQuery("#InputFormWithTab").removeClass("section_grayborder"),jQuery("#InputFormWithTab").addClass("section_grayborder1"),jQuery("#InputFormWithTabsAndCtrls").removeClass("section_grayborder"),jQuery("#InputFormWithTabsAndCtrls").addClass("section_grayborder1")):(document.getElementById("InputFormWithTab").style.display="none",null!=document.getElementById("InfoPanel2")&&(document.getElementById("InfoPanel2").style.display="none"),jQuery("#InputFormWithTab").removeClass("section_grayborder"),jQuery("#InputFormWithTabsAndCtrls").removeClass("section_grayborder"))}function ROFDataCapture_onload(a){"NO"==a?(document.getElementById("InputFormWithTab").style.display="none",null!=document.getElementById("InfoPanel2")&&(document.getElementById("InfoPanel2").style.display="none"),jQuery("#InputFormWithTab").removeClass("section_grayborder"),jQuery("#InputFormWithTabsAndCtrls").removeClass("section_grayborder")):(document.getElementById("InputFormWithTab").style.display="block",null!=document.getElementById("InfoPanel2")&&(document.getElementById("InfoPanel2").style.display="block"),jQuery("#InputFormWithTab").removeClass("section_grayborder"),jQuery("#InputFormWithTab").addClass("section_grayborder1"),jQuery("#InputFormWithTabsAndCtrls").removeClass("section_grayborder"),jQuery("#InputFormWithTabsAndCtrls").addClass("section_grayborder1"))}function disableCtrlKeyCombination(a){var c,d,b=new Array("c","x","v");if(window.event?(c=window.event.keyCode,d=!!window.event.ctrlKey):(c=a.which,d=!!a.ctrlKey),d)for(i=0;i<b.length;i++)if(b[i].toLowerCase()==String.fromCharCode(c).toLowerCase())return!1;return!0}function showCurrentMonth(){var a=jQuery("#febacal-ResetView");null!=a&&a.click()}function passModifiedMonth(){async=!0;var g=jQuery(".febacal-header-center")[1].innerHTML;document.getElementById("CalendarWidgetFG.MODIFIED_DATE_VALUE").value;document.getElementById("CalendarWidgetFG.MODIFIED_DATE_VALUE").value=g;var i=document.getElementById("RetailUserDashboard_W22__1:UPDATE_DATE");null==i&&(i=document.getElementById("RetailUserDashboard_W22__2:UPDATE_DATE"));var j=document.getElementById("RetailUserDashboard_W22__1:viewLink");null==j&&(j=document.getElementById("RetailUserDashboard_W22__2:viewLink")),i.click(),setTimeout(function(){window.open(j.href,"_self")},500)}function limitChars(a){var1=document.getElementById("SelfConfirmationListFG.MODULE_ID1").value,var2=document.getElementById("SelfConfirmationListFG.PAYEE_KEY_TYPE1").value,var3=document.getElementById("SelfConfirmationListFG.MODULE_ID2").value,var4=document.getElementById("SelfConfirmationListFG.PAYEE_KEY_TYPE2").value,document.getElementById("SelfConfirmationListFG.MODULE_ID1").checked&&document.getElementById("SelfConfirmationListFG.PAYEE_KEY_TYPE1").checked&&(fieldVal=document.getElementById("SelfConfirmationListFG.PAYEE_KEY").value,document.getElementById("SelfConfirmationListFG.PAYEE_KEY").value=fieldVal.substring(0,11))}jQuery(document).ready(function(){highLightErrorRow(),highLightErrorField();var a,b,c;jQuery(":submit").click(function(a){for(var b=document.getElementsByTagName("input"),c=0;c<b.length;c++)(b[c].id.match(/^ERROR_HIDDEN_ROW_/)||b[c].id.match(/^ERROR_HIDDEN_FIELD_/))&&a.preventDefault()});var d;jQuery('input[type="text"]').focusin(function(){d=jQuery(this).val(),d=jQuery.trim(d)}),jQuery('input[type="text"]').focusout(function(){newText=jQuery(this).val(),newText=jQuery.trim(newText),d!=newText&&changeFieldBorderColor(this)}),jQuery("select").change(function(){changeFieldBorderColor(this)}),jQuery(window).focus(function(){c&&(isDateChanged(b,a)&&changeFieldBorderColor(b),c=!1)}),jQuery('img[id*="FG"]').click(function(){var d=jQuery(this).closest("table");if(null!=d.html()){var e=jQuery(this).parentsUntil("td"),f=e[e.length-1];if(jQuery(f).hasClass("ERROR_FIELD_BORDER")){c=!0;var g=jQuery(this).parent().parent(),h=jQuery(g).children(":first");a=jQuery(h).val(),a=jQuery.trim(a),b=h}}})}),jQuery(document).ready(function(){var a=document.getElementById("FORMSGROUP_ID__").value;if("FormManagementFG"==a){var b=document.getElementById("FormManagementFG.REPORTTITLE").value;if("CNRDataCapture"==b){var c=document.getElementById("FormManagementFG.userField6").value;"Card expired - New card not received"==c?document.getElementById("DisplayForm.CNRDateField").style.display="block":document.getElementById("DisplayForm.CNRDateField").style.display="none"}"CNRSRListScreen"==b}var d=jQuery('[name="FormManagementFG.FDCCRadio"]:checked');d.length>0&&ROFDataCapture_onload(d[0].value),jQuery("#InputFormWithTab")&&(jQuery("#InputFormWithTab").removeClass("section_grayborder"),jQuery("#InputFormWithTab").addClass("section_grayborder1"),jQuery("#InputFormWithTabsAndCtrls").removeClass("section_grayborder"),jQuery("#InputFormWithTabsAndCtrls").addClass("section_grayborder1"))});